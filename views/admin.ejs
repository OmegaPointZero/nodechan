<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load bootstrap css -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script> <!-- load jQuery -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/js/admin.js"></script>
    <script src="/js/main.js"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/admin.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<title>Nodechan - Admin Panel</title>
<body class="main">
<div class="main-container">

    <p>Hi. Welcome to the Admin Panel, <%=user%></p>
  <div class="row" id="admin-panel">
	<div style="width:100%;">
    <div class="panel with-nav-tabs panel-default">
        <div class="panel-heading">
            <ul class="nav nav-tabs">
            <!--  Allow admins to interact with/monitor DB, delete threads, lock
                threads, move thread to a new board (build function to re-number
                posts), ban by IP address, view reports, sort/view posts by user 
                IP address -->
                <li class="active"><a href="#tab1default" data-toggle="tab">Add/Delete Boards</a></li>
                <li><a href="#tab2default" data-toggle="tab">Stickied Threads</a></li>
                <li><a href="#tab3default" data-toggle="tab">IP Bans</a></li>
                <li><a href="#tab4default" data-toggle="tab">Reported Threads</a></li>
                <li><a href="#tab5default" data-toggle="tab">Posts By User</a></li>
            </ul>
        </div>
        <div class="panel-body">
            <div class="tab-content">

                <!-- 
                    BOARDS LIST TAB CONTENTS
                -->
                <div class="tab-pane fade in active" id="tab1default">
                    <div class="add-boards-panel">
                        <% var categories = boards.map(b=>b.category).filter((value,index,self) => self.indexOf(value) === index) %>

                        <h3>Add a new board</h3>
                        <form method="POST" action="/admin/boards">
                            <input name="action" value="New Board" type="hidden"></input>
                            <!-- 
                                code: new board code,
                                title: new board title,
                                category: new board category
                            -->
                            Board Code:     <input name="code" placeholder="New Board Code"></input><br>
                            Board Title:    <input name="title" placeholder="New Board Title"></input><br>
                            Board Category: <input name="category" placeholder="New Board Category"></input><br>
                            <input type="submit" />
                        </form>
                    </div>
                    <div class="edit-boards-panel">
                        <hr>
                        <h3>Edit Existing Boards</h3>
                        <% boards.forEach(function(board){ %>
                                <div class="boards-editor" id="be-<%=board.boardCode%>">
                                <h4>/<span class="boardCode" id="bc-<%=board.boardCode%>"><%=board.boardCode%></span>/ - <span  class="boardTitle" id="bt-<%=board.boardCode%>"> <%=board.boardTitle%></span></h4>
                                Category: <span class="catspan" id="cs-<%-board.boardCode%>"><%=board.category%></span><br>
                                Rename Board: <input class="newBoardTitle" id="newTitle-<%=board.boardCode%>" placeholder="New Board Title"></input><button class="newBoardTitle" id="submitcode-<%=board.boardCode%>">Update</button><br>
                                Change Board Code: <input class="newBoardCode" id="newcode-<%=board.boardCode%>" placeholder="New Board Code"></input><button class="newBoardCode" id="submitcode-<%=board.boardCode%>">Update</button><br>

                                Change Category: <select id="uc-<%=board.boardCode%>" name="category"><%categories.forEach(function(cat){%><option value="<%=cat%>"><%=cat%></option><%})%></select> <button class="updateCategory" id="updateCat-<%=board.boardCode%>" >Update</button><br>
                                New Category: <input class="newBoardCat" id="newCat-<%=board.boardCode%>" placeholder="New Board Category"></input><button class="newCategory" id="newCategory-<%=board.boardCode%>">Update</button><br>
                                <button class="delete" id="deleteboard-<%=board.boardCode%>">Delete</button>
                            <hr>
                            </div>
                        <% }) %>
                    </div>
                </div> 

                <!-- 
                    STICKY THREAD TAB CONTENTS
                -->
                <div class="tab-pane fade" id="tab2default"> 
                    <%boards.forEach(function(board){%> 
                        <h4>/<%=board.boardCode%>/ - <%=board.boardTitle%></h4>  
                        <% var stickied = board.stickyThreads %> 
                            <% if(stickied.length==0){%> 
                                <ul><li>No Stickied threads</li></ul> 
                            <% } else { %> 
                                <ul> 
                                <%stickied.forEach(function(sticky){%> 
                                    <li><a href="/<%=board.boardCode%>/thread/<%=sticky%>"><%=sticky%></a> <button class="unsticky" id="unsticky-<%=board.boardCode%>-<%=sticky%>">Unsticky</button></li>  
                                <% }) %> 
                                </ul> 
                            <% } %> 
                        <div class="addSticky" id="sticky-<%=board.boardCode%>"><input class="addSticky" type="text" id="addSticky-<%=board.boardCode%>"></input><button class="addSticky" id="sticky-<%=board.boardCode%>">Add</button></div> 
                    <% }) %>
                </div>
                <div class="tab-pane fade" id="tab3default">Make DB Entry for banned IPs, API request to get them</div> 
                <div class="tab-pane fade" id="tab4default">Make DB Entry for reported threads, API req for DB, back-end will pull thread ID's/board from DB, then pull threads from the threads DB</div> 
                <div class="tab-pane fade" id="tab5default">
                  Board: <input type="text" id="getUserByIPBoard" name="board" placeholder="Board"><br>
                  IP: <input type="text" id="getUserByIPAddress" name="IP" placeholder="IP"><br>
                  <button id="postByIP">Submit</button>
                    <hr>
                <div id="pulledPostsByIP"></div>
                </div>
            </div>
        </div>
    </div>
    </div>
	</div>
</div>
</body>
</html>

</html>
